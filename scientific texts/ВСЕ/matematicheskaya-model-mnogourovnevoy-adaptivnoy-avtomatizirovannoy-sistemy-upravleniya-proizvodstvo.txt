*27*
     МАТЕМАТИЧЕСКАЯ МОДЕЛЬ                                           
   МНОГОУРОВНЕВОЙ АДАПТИВНОЙ АВТОМАТИЗИРОВАННОЙ СИСТЕМЫ УПРАВЛЕНИЯ ПРОИЗВОДСТВОМ                                        
Аннотация: На начальном этапе развития адаптивных автоматизированных систем управления производством (ААСУП) использовались фактически статические системы. С переходом к рынку динамичность внешней среды резко увеличилась. Возникла необходимость в оперативном переходе производств на выпуск новой продукции.                            
Появился фактически новый класс адаптивных систем с качественно изменяющейся целью в процедуре  функционирования. Потребовалось сформировать их       математическое системное описание, учитывающее        специфику систем и ранее практически отсутствовавшее. Для формирования такого описания авторами предложена схема, базирующаяся на методах системного анализа. Особенностью является формирование однородного метода для описания разнотипных процессов планирования и управления. К системному математическому описанию процессов планирования управления производством с трехуровневой структурой были сформулированы требования, проведен анализ методов, который констатировал отсутствие системного метода описания. В связи с этим системные методы были сформированы из локальных методов. Такими локальными методами оказались  методы статического линейного программирования, динамического линейного программирования, линейно-квадратичной оптимизации. Взаимодействие целенаправленных структурных элементов системы проявлялось в согласовании экономических и динамических свойств. Представлена достаточно простая процедура согласования экономических интересов элементов по горизонтали, по вертикали и   системы в целом. Отмечена специфика организационных систем, связанная с информационной неопределенностью, что приводит к необходимости использовать два этапа построения моделей: имитационный и оптимизационный. Уточнено векторное свойство для оценки процесса управления. Определены динамические свойства трехуровневой системы.                   Взаимодействие элементов в процессе управления определяется экономическими и динамическими свойствами. Экономические свойства характеризуются процедурой согласования экономических интересов структурных элементов, аналогичной процедуре в интегральном методе. 
Определено векторное динамическое свойство, состоящее, в отличие от интегрального метода, из двух свойств: неколебательности переходного процесса и нулевой установившейся ошибки слежения.
Динамические свойства трехуровневой системы удобно изучать с помощью компьютерного моделирования процессов. Результаты экспериментальных работ связаны с оперативной проверкой теоретических положений на задачах небольшой размерности. Дальнейшее продолжение работ по программированию связано с реализацией процесса взаимодействия структурных элементов многоуровневой ААСУП. В то же время требует рассмотрения системная технология формирования таких систем. Этой тематике и посвящена настоящая работа. Рассмотрены требования к методам описания и построения математической модели трехуровневых ААСУП. Проведен анализ локальных методов описания, предложены глобальные математические методы исследования ААСУП. К методам системного математического описания процессов планирования и управления специфической системы управления производством с трехуровневой структурой были сформулированы требования, учитывающие особенности системы и различные неформальные моменты. На их основе был проведен анализ методов, который констатировал отсутствие системного метода описания. В связи с этим был проведен анализ локальных методов, пригодных для построения системных методов математического описания.
    Адаптивные автоматизированные системы управления производством начали развиваться как новый класс систем на рубеже столетий [4; 11; 14; 15; 18]. Особый интерес
к таким системам проявляется после перехода России к рыночным отношениям. Вместе
с тем этот класс адаптивных систем является специфическим, и для его формального системного описания не подходят существующие теоретические методы ни автоматизированного, ни автоматического управления. Возникла необходимость сформировать новые методы на основе исследования известных методов. Такая процедура потребовала применения системного анализа к изучению адаптивных систем, включающего процедуры определения системной цели функционирования, структуры и ее функционального наполнения.
    Первые две процедуры рассмотрены в публикации [13], продолжением которой является настоящая работа.
    Постановка задачи. Провести системное функциональное наполнение трехуровневой
структуры [13] адаптивной системы. Для этого необходимо сформулировать требования
к математическому описанию, провести анализ известных методов и построить новый метод, пригодный для исследования адаптивных систем.
    Решение задачи. Особенности воздействия среды и автоматизированного управления
предъявили специфические и порой жесткие требования к методам математического описания процессов:
    1. Достаточная адекватность описания процессов, имеющих место в реальной системе.
    2. Учет многоуровневого характера структуры систем с изменением масштабов описания по времени и координатам.
    3. Системность и наглядность метода математического описания и простота алгоритма
приложения.
    4. Интеграция процессов функционирования и адаптации с элементами интеллекта.
    5. Поддержание оптимальных режимов работы с помощью компьютерной техники.
    6. Системное описание процессов оптимального планирования и управления с учетом
линейных ограничений.
    7. Однородность (однотипность) системного описания процессов оптимального планирования и управления.
    8. Согласование (векторных) экономических интересов и координация темпов работы
целенаправленных элементов, что позволяет увеличить эффективность работы системы
управления
    9. Малое время расчетов и возможность работы в реальном масштабе времени.
    10. Совместная оценка экономических (через экономический интерес) и управленческих
свойств.
    11. Учет неопределенности в получении данных при идентификации управляющей части системы.
    12. Учет значительной доли неформальных процедур. При формировании описания
имеет место ряд неоднозначностей, которые приходится исследовать дополнительно.
    В формировании математического описания адаптивной системы возможно выделить
следующие этапы.
    1. Описание отдельного элемента без учета специфики уровней структуры.
    2. Описание отдельного элемента с учетом специфики уровней.
    3. Описание взаимодействия элементов.
    Два последних этапа составляют методы системного (глобального) описания процессов
в системе. Здесь ограничимся первым этапом.
    Необходимо, следовательно, определить системный метод совместного описания разнородных по сути и структуре процессов планирования и управления.
    Такое описание может быть двух видов:
    1) названные процессы описываются одним однородным методом;
    2) процессы представлены разными согласованными методами (системный или интегральный метод).
    Как показал анализ методов, в литературе фактически отсутствует однородный метод.
В связи с этим анализ методов описания процессов планирования и управления проведем
порознь для последующего формирования системного метода.
    Одной из первых работ по описанию многоуровневых систем явилась публикация [10].
В ней рассматривались лишь двухуровневые системы, а предложенный теоретико-множественный метод не позволял получать конструктивные результаты.
    Первоначально для описания пытались использовать частотные методы систем автоматического управления, однако описание ограничивалось либо двумя уровнями [8; 16]
без учета горизонтальных связей, либо одним элементом на нижнем уровне [7; 3]. Требованию относительной автономности процесса планирования и оптимизации процессов
при этом не уделялось внимания.
    Другая группа работ [1; 5; 12; 17; 19—26] учитывала преимущественно динамику систем без учета требований оптимальности и процесса планирования. К тому же описание
вертикального взаимодействия характеризовалось очень сложным алгоритмом со значительным привлечением неформальных процедур. Ввести интеллектуальность в такие математические модели весьма проблематично, а оценить экономические свойства и целенаправленность не представляется возможным.
    К тому же работы [1; 12; 24] имеют целью скорее исследование динамических свойств
одноуровневой системы путем декомпозиции и перехода к двухуровневой структуре. Такие
задачи являются согласованными по определению.
    Применение таких методов как оптимизация по силе, энергии, линейно-квадратичная
оптимизация [9] сильно затруднено сложностью экономической интерпретации. Речь идет
об описании отдельного структурного элемента, что затрудняет учет процедуры взаимодействия элементов.
    Работа [2] посвящена процессу планирования в двух- и трехуровневых системах с так
называемой веерной структурой, т.е. без учета горизонтальных связей.
    Анализ известных методов показал, что сформулированным ранее требованиям не
удовлетворяет ни один локальный метод. Следовательно, необходимо из локальных методов составить глобальные методы, а для этого необходимо более подробно познакомиться
с возможностями отдельных локальных методов.
    Методы, пригодные для описания процессов планирования и управления, рассмотрим
раздельно.
    Планирование. Как упоминалось, в традиционных автоматизированных системах управления производством решаются преимущественно задачи «прямого счета». При их использовании нельзя говорить даже о рациональном режиме работы системы, тем более —
об оптимальном режиме.
    В ERP-системах в качестве дополнения к задачам «прямого счета» используются алгоритмы-ограничения.
    Так, если aij — норма расхода материала на единицу продукции j, Pj — величина заказа клиента, bi — наличное количество материала, то должно соблюдаться неравенство.
    Пусть tij — время изготовления детали j на оборудовании вида i; tkr — время сборки
изделия r на оборудовании вида k; Pj — план выпуска деталей (изделий); Ai — фонд времени работы оборудования. Тогда при выпуске деталей (изделий) имеет место выражение.
    В то же время этот метод при последовательном рассмотрении выражений (1) — (2)
имеет ограниченную сферу применения.
    Итеративный характер расчетов сильно затрудняет учет динамических изменений спроса и ресурсного обеспечения. Только ограничение на ресурсы не позволяет выявить лучшие режимы использования ресурсов даже при стабильном спросе.
    Попытка описания многоуровневой схемы предпринималась в работе [17].
    Пусть имеется модель, состоящая из K (k = 1, K) соединенных структурных элементов
(подсистем). Ее частным случаем является модель с последовательным соединением подсистем. В этом случае возможно последовательное решение сначала для подсистемы 1,
затем для подсистемы 2 и т.д.
    В более общем случае в силу однотипности структурных элементов можно математически описать лишь k-й элемент.
   Тогда модель получает вид, где yk — вектор выхода структурного элемента; zk — вектор связей элементов; Tk, Sk —
векторные функции; Mk — вектор управления k-й подсистемы; uk — вектор возмущений.
    Могут иметься нелинейные ограничения, описываемые векторной функцией.
    Цель: определить векторы M = {Mk}, X = {xk}, k = 1, K, доставляющие максимум целевой функции.
     Пусть функции Tk,Sk, F непрерывны и имеют первые производные. Тогда максимум
определяется с использованием лагранжианов.
     Фактически процедуру решения одноуровневой задачи обращают в двухуровневую
процедуру.
     Видно, что методы связаны с частным случаем двухуровневых структур систем, при
этом интервалы времени на разных уровнях одинаковы. Интегральное описание планирования и управления весьма затруднительно. Целевые функции уровней согласованы по самой постановке задачи, тогда как в адаптивной системе необходимо уметь согласовывать
эти функции.
     Более интересно применение СЛП при необходимости согласования целевых функций
[2]. Общая постановка этой задачи имеет веерный вид. Имеется один элемент (Центр) на
верхнем уровне и K (k = 1, K) элементов (автономных производств, не имеющих горизонтальных связей) на нижнем уровне. Центр располагает ресурсом в количестве X0, который
необходимо распределить между производствами в количестве xk в соответствии с их запросами sk.
     Элементы используют ресурсы с эффективностью rkf(xk), где rk — коэффициент эффективности; f(xk) — функция использования ресурсов.
     Работа системы осуществляется в условиях неопределенности. С одной стороны,
Центр не знает точной величины rk и судит о ней по диапазону изменения rk и сообщениям
sk элементов. В общем случае может быть rk?sk.
   С другой стороны, элементы не знают точной величины X0 (дефицит или избыток).
   Необходимо выработать закон взаимодействия Центра и элементов, чтобы соблюдалось условие rk = sk.
    Возможны различные разновидности принципов работы системы, подробно описанные в [2].
    В более поздних работах В.Н.Буркова рассматриваются специфические так называемые веерные трехуровневые структуры.
    Заметим, что здесь речь идет о согласовании задач уровней, однако рассматриваются
только вертикальные связи.
    Более удобной является другая форма задачи статического линейного программирования (СЛП), решаемая при планировании производства, где Р, b, R — вектор-столбцы искомого плана, наличного количества ресурсов, спроса; А —
матрица норм расходов ресурсов; F — вектор-строка прибыли за единицу готовой продукции; G — целевая функция; ? — интервал времени. Информационная схема задачи представлена в левой части рис. 1, б.
    Выражения (10) — (12) учитывают нелинейности и характерны для фиксированного
интервала времени ?, но не охватывает возможную динамику процесса планирования.
    Чтобы учесть динамику, необходимо к выражениям (10) — (12) добавить разностные
уравнения перехода к последующим интервалам времени. При этом получается задача динамического линейного программирования (ДЛП).
    Задача ДЛП тоже может быть представлена графически в виде рис. 1, а. С учетом схемы динамической системы в пространстве состояний рис. 1, а преобразуется в рис. 1, б, на
котором приняты следующие обозначения: P1 — вектор комплекта ресурсов; z — вектор
незавершенного производства; A, B, C — матрицы, характеризующие динамику процесса.
    Таким образом, для формирования методов описания процесса планирования наиболее
перспективны задачи СЛП и ДЛП.
    Управление. При использовании частотных методов затруднительно представить многоуровневую структуру и тем более учесть ограничения.
    В связи с этим более предпочтительно использование описания в пространстве состояний.
    Обсудим возможности таких наиболее подходящих методов: оптимизации по силе, по
энергии, линейно-квадратичной оптимизации, динамического линейного программирования.
    При оптимизации по силе используется критерий.   Этот критерий не годится для автоматизированных систем, поскольку управления ui(t)
имеют разные размерности. Возможно, правда, легко построить модель поведения финансовых ресурсов, однако по такой модели поведение других видов ресурсов не удается.
   При оптимизации по энергии применяется критерий, где u — вектор управления с составляющими ur.
    Для решения этой задачи используют уравнение Коши, при этом нелинейные ограничения не рассматриваются. Модификация метода позволяет учесть ограничения на ресурсы, в которых A — матрица норм расходов ресурсов; b — имеющееся количество ресурсов.
    Практическое решение задачи представленным методом моментов связано [9] с довольно громоздкими вычислениями и сложными алгоритмами и имеет место не всегда. К тому
же при компьютерной реализации слабо обусловленных задач возникают трудности численного решения из-за чувствительности уравнений к округлениям и погрешностям промежуточных вычислений.
    Примем следующее описание системы управления в форме линейно-квадратичной
оптимизации (ЛКО).
    Объект управления, где p, z, u, y, ? — векторы плана, состояния, управления, выхода, отклонения; A, B, C, S —
матрицы, характеризующие динамику; Q, R — симметричные матрицы, характеризующие
процесс управления; t? [0, T] — время; надстрочный индекс T — признак транспонирования матриц.
    Задача решается через введение гамильтониана. Достоинством метода является простота изучения динамических свойств, в том числе устойчивости и качества управления.
При применении скалярной и векторной функций Ляпунова аппарат линейно-квадратичной оптимизации позволяет описывать иерархические системы.
    К серьезным недостаткам метода следует отнести неучет ограничений на ресурсы и
нелинейности описания системы управления, сложности экономической трактовки квадратичного критерия и стыковки с задачей линейного программирования.
    Перечисленные недостатки возможно преодолеть введением ограничения заменой критерия (19) на линейный критерий, где D — матрица норм расхода ресурсов.
    Решение задачи динамического линейного программирования (ДЛП) возможно следующими методами.
    1. Прямое решение [6] методом Р.Габасова. Алгоритм решения достаточно сложен,
имеются сложности при округлении чисел. В силу этого данный метод применяется редко.
    2. Преобразование задачи ДЛП в известную задачу статического линейного программирования [24]. Это наиболее простой и распространенный метод, которым воспользуемся
позднее.
    3. Моделирование на компьютере (с использованием языка MatLab или пакета SIMU-
LINK в рамках MatLab).
    4. Решение «динамической» задачи с ограничениями.
    Отметим, что метод не работает, если в критерии (18) отсутствует выражение вида
C1Cz(ti). Это означает, что метод ограничен замкнутыми системами управления и не годится для разомкнутых систем планирования.
    Таким образом, для формирования глобального метода описания многоуровневой системы подходят следующие локальные методы: статическое линейное программирование,
динамическое линейное программирование, линейно-квадратичная оптимизация.
    Возможны следующие варианты сочетаний локальных методов для получения системного метода.
    1. Статическое линейное программирование (СЛП) — для процесса планирования и линейно-квадратичная оптимизация (ЛКО) — для процесса управления.
    2. ДЛП — ЛКО.
    3. СЛП — ДЛП.
    4. ДЛП — ДЛП.
    Первый вариант является частным случаем второго варианта и более удобен в реализации. Назовем первый системный метод интегральным.
    Обобщением третьего варианта служит четвертый вариант. Он обладает к тому же более широкими возможностями. Назовем четвертый системный метод однородным, поскольку процессы планирования и управления описываются одним и тем же локальным методом.
    Заметим, что интегральный метод не удовлетворяет требованию 7. К тому же при применении ЛКО имеют место отмеченные ранее затруднения. Всем требованиям удовлетворяет однородный метод, позволяющий однотипно описать разнотипные процессы планирования и управления и учесть динамику процесса планирования.

