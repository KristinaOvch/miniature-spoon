*5*                         
Труды Международного симпозиума «Надежность и качество», 2018, том 1
УДК 681.3.01
Приймак А.А.
   ФГБОУ ВПО «Пензенский государственный университет», Пенза, Россия
           МЕТОДЫ АНАЛИЗА СИГНАЛА В РЕЖИМЕ РЕАЛЬНОГО ВРЕМЕНИ НА ОСНОВЕ ЭКСТРЕМАЛЬНОЙ ФИЛЬТРАЦИИ
    Обоснована необходимость разработки методов адаптации экстремальной фильтрации к режиму реального времени. Показан
принцип работы метода экстремальной фильтрации. Дано описание авторских методов адаптации экстремальной фильтрации к режиму реального времени. 
Показан метода покадровой обработки сигнала. Описано применение метода анализа сигнала, с использованием нейронных сетей. 
Дано описание метода с подгрузкой сигнала и метода параллельного выделения составляющих с подгрузкой
сигнала. Представлены результаты работы метода параллельного выделения составляющих с подгрузкой сигнала. Показаны, выделенные с помощью 
метода параллельного выделения составляющих с подгрузкой сигнала, составляющие сейсмосигнала и вычисленные для
них параметры – частоты и амплитуды. Сделан вывод о том, что предложенные автором методы, позволяют получать информацию
о состоянии объекта в режиме реального времени
    Ключевые слова:
    ЭКСТРЕМАЛЬНАЯ ФИЛЬТРАЦИЯ, МЕТОД ПОКАДРОВОЙ ОБРАБОТКИ СИГНАЛА, МЕТОД АНАЛИЗА НА НЕЙРОННЫХ СЕТЯХ,
МЕТОД С ПОДГРУЗКОЙ СИГНАЛА, МЕТОД ПАРАЛЛЕЛЬНОГО ВЫДЕЛЕНИЯ СОСТАВЛЯЮЩИХ
    Введение                                                   
    В настоящее время во многих сферах промышленности применяются системы, работающие непрерывно. Главным влияющим фактором в работе таких                
систем являются быстропеременные процессы. К ним                   
относят параметры пульсации давления, вибрации,                
акустические шумы. Эти параметры являются главным источником информации о состоянии объекта.                 
    С помощью анализа сигнала, несущего информацию об измеряемых параметрах объекта, можно судить о состоянии этого объекта в определённый                  
момент времени. Сигнал отражает состояние объекта в разных режимах работы или в исправном и                     
неисправном состояниях, что позволяет классифицировать происходящие в объекте изменения.                     
    Для упрощения задачи изучения быстропеременные процессов, реальные процессы заменяют процессами - моделями, 
сохраняющими основные свойства процессов – оригиналов. Рассматривая свойства быстропеременных процессов, можно прийти к                
выводу, что для описания сложных объектов удобно                   
использовать универсальную модель [1]. Универсальная модель БПП представляет собой сумму узкополосных составляющих (мод), «видимых» на                    
спектре, аддитивно смешанных с широкополосным                  
шумом [1]. Такая модель подтверждается тем, что                
в автоматике все динамические объекты описываются моделью какого-либо порядка.                              
    Выделить моды возможно с помощью экстремальной фильтрации. Для выделения узкополосных составляющих в режиме реального времени необходимы               
методы, позволяющие адаптировать алгоритм экстремальной фильтрации к реальному времени.                    
    При наличии алгоритма, способного обеспечить                   
выделение мод в режиме реального времени и расчёт параметров для каждой из них, сформировав                  
диагностические признаки [2], появляется возможность контролировать состояние непрерывно работающих объектов и классифицировать происходящие               
в них изменения.                                                   
    1. Метод экстремальной фильтрации                          
    Алгоритм экстремальной фильтрации схож с разложением сигнала по эмпирическим   модам  
(Empirical Mode Decomposition) [1]. Алгоритм                       
экстремальной фильтрации базируется на анализе                 
экстремумов процесса и заключается в последовательном выделении самой высокочастотной составляющей по формуле (1) [3].                                     
              x pi ? ?25 xэi ?1 ? 0.5 xэi ? 0.25 xэi ?1   (1)  
                                                               
при одновременном вычислении сглаженной составляющей xci , уже не содержащей x pi [3]:                       
                                                               
              xci ? 0.25xэi ?1 ? 0.5xэi ? 0.25xэi ?1      (2)      
                                                               
    В дальнейшем из сглаженной составляющей xci ,              
вычисленной на предыдущем шаге по формуле (2),                 
извлекается следующая высокочастотная составляющая x pi ?1 и производится ее сглаживание xci ?1 [3].
                                                               
    Информацию о самой высокочастотной узкополосной составляющей несут экстремумы сигнала. 
Удалением из сигнала данной составляющей, может                   
быть получена сглаженная кривая, экстремумы которой несут информацию о следующей узкополосной                
составляющей [3]. Итерации, по удалению высокочастотных составляющих повторяются до тех пор,                 
пока не будет получена последовательность, содержащая знакопеременные экстремумы, которая является самой низкочастотной узкополосной составляющей.
При анализе сигнала, состоящего из нескольких
составляющих, иногда возникает препятствие, связанное с тем, что моды не всегда разделены достаточно чётко. 
В этом случае необходимо применение предварительной обработки сигнала с использованием дифференцирования и интегрирования, которая подробно описана в работах [1,4].
2. Метод покадровой обработки
Первым, предложенным автором, методом стала
покадровая обработка сигнала, подробно описанная
в работе [3]. Она применяется для адаптации метода экстремальной фильтрации к системам, работающим в режиме реального времени. Метод удобно 
использовать как при выделении только первой,
высокочастотной, составляющей, так и при выделении нескольких составляющих.
Суть покадровой обработки сигнала заключается
в одновременном накоплении поступающей информации и её обработке. Исходя из этого, принцип
работы метода покадровой обработки сигнала можно
сформулировать следующим образом: непрерывно поступающий сигнал xj, j=1,2,….N накапливается в
буфере (массив накопления) заданного размера S,
необходимом для обеспечения безпропускной обработки сигнала [3]. При заполнении буфера, данные
из него передаются в обработку, а сам буфер освобождается для приёма новых значений. Операции по
одновременному накоплению и обработке повторяются пока поступает сигнал.
По количеству экстремумов Kj и значениям этих
экстремумов для каждого кадра вычисляются параметры – частоты и амплитуды, по которым можно
судить о состоянии объекта. 
3. Метод анализа сигнала, с использованием  нейронных сетей
Второй, идеей, которую предложил автор, стало
использование нейронных сетей. Статья, подробно
описывающая использование нейронных сетей, в
данный момент находится на стадии публикации.
Метод анализа сигнала, с использованием
нейронных сетей – является реализацией метода
экстремальной фильтрации, базирующейся на использовании нейронных сетей. Его использование
удобно в случаях, когда необходимо получение
всех составляющих сигнала, в виду простоты данного метода.
Для построения алгоритма, реализующего экстремальную фильтрацию, были выбраны радиально –
базисные нейронные сети по причине их свойств.
Первоначально было предложено использовать
нейронную сеть, имеющую несколько выходов, при
обучении которой, на вход подавался сигнал, а
образцами задавались его составляющие, выделенные с помощью метода экстремальной фильтрации
или метода эмперических мод. Однако, такой подход оказался не удобен по причине разного количества составляющих в разных сигналах, 
что требовало постоянного изменения количества выходов
нейронной сети.
  В качестве решения проблемы было предложено
создать структуру в виде «цепочки» из нейронных
сетей двух типов – первые обучены выделять сглаженные составляющие, вторые - знакопеременные
                              
составляющие. Эти нейронные сети соединены таким      
образом, что выделенная нейронной сетью первого        
«звена» сглаженная составляющая подаётся на            
входы нейронных сетей второго «звена», выделяющих сглаженную и знакопеременную, выделенная           
нейронной сетью второго «звена» сглаженная составляющая подаётся на нейронные сети третьего         
«звена», также, выделяющие сглаженную и знакопеременную и т.д. О выделении самой низкочастотной составляющей 
свидетельствует равенство знакопеременной и сглаженной составлявшей.                
   Адаптацию к режиму реального времени алгоритма выделения составляющих, построенного на          
нейронных сетях, было предложено осуществлять с        
помощью метода покадровой обработки. Причиной          
выбора данного метода адаптации служит особенность нейронных сетей, заключающаяся в том, что        
нейронные сети выбранного типа способны работать       
только с выборками данных конечной длины.              
   Расчёт параметров производится для каждой выделенной составляющей. При этом возможно использовать нейронные сети, 
обученные расчёту параметров. Обучение такой сети не составит труда          
если уже имеется сигнал с выделенными составляющими, а также частоты и амплитуды, вычисленные        
для каждой из них.                                     
   4. Метод с подгрузкой сигнала.                      
   Третьим методом, стал метод с подгрузкой значений сигнала. Необходимость его разработки вызвана тем, 
что метод покадровой обработки, а соответственно и метод, использующий нейронные           
сети, имеет недостаток – параметры составляющих        
могут быть вычислены только после того, как буфер будет полностью заполнен.                          
   Использование метода с подгрузкой сигнала целесообразно в случаях выделения одной составляющей сигнала.                                          
   Принцип работы метода может быть описан следующим образом: заполняется буфер длиной в S           
значений. В буфере вычисляются экстремумы, знакопеременная составляющая и сглаженная составляющая, подсчитывается количество экстремумов K        

для того, чтобы рассчитать параметры. Далее производится считывание нового значения S+1 - происходит «подгрузка» к буферу нового значения.          
Если подгруженное новое значение S+1 не экстремум, то ничего не происходит, а если оно оказалось экстремумом, то переменная, обозначающая          
количество экстремумов - K, инкрементируется и         
под этим номером значение экстремума и его номер       
сохраняются в специальных массивах. Для нового            
экстремума вычисляется знакопеременная составляющая и сглаженная составляющая.                      
   Также важно учитывать, что выталкиваемое из         
буфера первое значение - S(1), также может быть        
экстремумом, и в случае если это так, переменная, отвечающая за количество экстремумов - К             
декрементируется, количество экстремумов уменьшается.                                                
   В методе адаптации с подгрузкой сигнала, имеется возможность получить новое количество экстремумов, 
не прибегая к «просмотру» всего буфера, что даёт выигрыш во времени получения параметров перед методом покадровой обработки сигнала, где параметры могут быть вычислены только        
после окончания обработки всего содержимого буфера, состоящего из S значений.                        
   5. Метод параллельного выделения составляющих       
с подгрузкой сигнала                                   
   Четвёртым методом, стал метод параллельного         
выделения составляющих с подгрузкой сигнала. Его       
принцип действия описан в работе [5].                  
   Данный метод является логическим продолжением       
метода с подгрузкой сигнала, применяемого для             
выделения первой, высокочастотной, составляющей. Метод параллельного выделения составляющих        
целесообразно использовать при выделении нескольких составляющих сигнала в условиях жёстких       
временных ограничений.                                 
   Как и в методе с подгрузкой сигнала алгоритм
начинается с формирования буфера S, в буфере
 находятся знакопеременная и сглаженная составляющие. Из сглаженной составляющей выделяется
следующая - знакопеременная и следующая сглаженная составляющая и т.д. То есть происходит формирование буферов S1, S2,..,SN - для каждой составляющей. 
Также в буфере каждой составляющей
подсчитывается     количество    экстремумов    -
K1,K2,..,KN, что позволяет вычислить параметры
для буфера каждой составляющей.
Далее происходит подгрузка нового значения к
буферу первой составляющей – S1+1. Если это значение экстремум, то для него вычисляется сглаженная и знакопеременная составляющие. Новое
значение сглаженной составляющей становится подгружаемым значением к буферу второй составляющей
S2+1. Если подгруженное к буферу второй составляющей значение оказалось экстремумом, то для
него также производится вычисление сглаженной и
знакопеременной составляющей. Новое значение
сглаженной составляющей становиться подгружаемым к буферу уже третьей составляющей и т.д.
При подгрузке каждого нового значения к буферу первой составляющей S1, производится подсчёт количества найденных в буферах составляющих
экстремумов K1,K2,..,KN. При этом, аналогично методу с подгрузкой сигнала, возникает необходимость всегда контролировать первое, уходящее из
буфера, значение – S1(1), S2(1),..,SN(1). В случае наличия в нём экстремума переменную, отвечающую за количество экстремумов необходимо декрементировать, так как в буфере этого экстре-
мума больше нет.
Вычисление параметров, характеризующих работу
объекта – частот и амплитуд, возможно двумя способами. Первый способ заключается в формировании
интервала по прохождению которого фиксируется
количество экстремумов, найденных за этот промежуток в буфере каждой составляющей. Далее рассчитываются параметры для каждой составляющей в
этом интервале. Такой подход прост и может быть
полезен, когда нет жёстких ограничений по времени получения параметров, так как для получения
параметров необходимо ожидать прохождение всего
интервала. Другой подход заключается в том, что
при подгрузке каждого экстремума рассчитываются
параметры для буфера какой-либо составляющей.
Этот метод выгоден тем, что появляется возможность всегда иметь актуальную информацию об объекте, 
однако такой подход более сложен в реализации и требует высоких трудозатрат.
На рисунке 1 показано разложение сейсмосигнала системы охраны периметра на составляющие,
полученные методом параллельного выделения составляющих. На первом графике представлен исходный сейсмосигнал, а на последующих его составляющие.
Заключение
Представленные в статье методы адаптации экстремальной фильтрации к режиму реального времени
работоспособны и дают возможность в режиме реального времени выделять узкополосные составляющие, а также рассчитывать параметры для них, по
которым можно судить о состоянии объекта. Таким
образом появляется возможность контролировать
состояние непрерывно работающих объектов.
Примером успешного применения одного из описанных методов является его применение для анализа в режиме реального времени сейсмосигнала
системы охраны периметра. На приведённых рисунках, чётко видны изменения частот и амплитуд,
которые вызваны приближением «нарушителя». Таким
образом, появляется возможность видеть «нарушителя» в режиме реального времени.
Предложенные методы могут находить широкое
применение не только при проектировании систем
охраны периметра, но также и при разработке ПО
для обработки видеосигнала [6], ПО для контроля
работы различных промышленных машин и оборудования, ПО для медицинской техники.
                  
   Параметры – частоты и амплитуды представлены на рисунках 2 и 3. Они вычислены для каждой
составляющей сейсмосигнала. Изменение отношения частоты к амплитуде даёт возможность однозначно выделить моменты обнаружения «нарушителя» на фоне шума.

